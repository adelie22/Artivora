@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&display=swap');

:root {
    --primary-color: #00a8ff;
    --dark-color: #2c3e50;
    --light-color: #ecf0f1;
    --section-bg-dark: #191c24;
    --sidebar-bg: #13151a;
    --card-bg-dark: rgba(255, 255, 255, 0.05);
    --waveform-bg: rgba(255, 255, 255, 0.1);
    --waveform-progress: #00a8ff;
    --glow-color: rgba(0, 168, 255, 0.5);
    --sidebar-width: 240px;
    --header-height: 80px;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    scroll-behavior: smooth;
}

body {
    font-family: 'Noto Sans KR', sans-serif;
    background-color: var(--section-bg-dark);
    color: var(--light-color);
    line-height: 1.6;
    display: flex;
    overflow: hidden; /* Prevent body scroll */
}

/* Sidebar */
.sidebar {
    width: var(--sidebar-width);
    height: 100vh;
    background-color: var(--sidebar-bg);
    position: fixed;
    top: 0;
    left: 0;
    padding: 2rem;
    display: flex;
    flex-direction: column;
    border-right: 1px solid rgba(255, 255, 255, 0.1);
    z-index: 1001;
}
.sidebar .logo { font-size: 2rem; font-weight: 700; color: var(--primary-color); text-decoration: none; margin-bottom: 3rem; }
.sidebar-nav ul { list-style: none; }
.sidebar-nav .nav-item { margin-bottom: 1.5rem; position: relative; }
.sidebar-nav .nav-item > a { text-decoration: none; color: white; font-size: 1.2rem; font-weight: 400; transition: color 0.3s; display: flex; align-items: center; cursor: pointer; }
.sidebar-nav .nav-item > a i { margin-right: 1rem; width: 20px; text-align: center; }
.sidebar-nav .nav-item:hover > a { color: var(--primary-color); }
.sidebar-nav .dropdown-menu { display: none; list-style: none; padding-left: calc(20px + 1rem); margin-top: 0.5rem; }
.sidebar-nav .nav-item:hover .dropdown-menu { display: block; }
.sidebar-nav .dropdown-menu li a { display: block; padding: 0.3rem 0; color: #aaa; text-decoration: none; transition: color 0.2s; }
.sidebar-nav .dropdown-menu li a:hover { color: white; }

/* Page Content Wrapper */
.page-content {
    margin-left: var(--sidebar-width);
    width: calc(100% - var(--sidebar-width));
    position: relative;
    height: 100vh;
    overflow-y: auto; /* Make this the scrolling container */
}

/* Header inside Page Content */
header {
    height: var(--header-height);
    background: transparent;
    padding: 1rem 2.5%;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    z-index: 1000;
    transition: background-color 0.3s ease, backdrop-filter 0.3s ease;
}
header.scrolled { background: rgba(25, 28, 36, 0.8); backdrop-filter: blur(10px); }
header nav { display: flex; justify-content: flex-end; align-items: center; width: 100%; position: relative; }
.nav-center { position: absolute; left: 50%; transform: translateX(-50%); }
.cta-button { background-color: var(--primary-color); color: white; border: none; padding: 0.8rem 2rem; font-size: 1rem; font-weight: 700; border-radius: 50px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 0 15px var(--glow-color); text-decoration: none; }
.cta-button:hover { transform: scale(1.05); box-shadow: 0 0 25px var(--glow-color); }
.nav-right { display: flex; align-items: center; gap: 1rem; }
.nav-button, .signup { border: none; padding: 0.6rem 1.2rem; border-radius: 50px; cursor: pointer; font-weight: 700; transition: all 0.3s ease; background: transparent; border: 1px solid rgba(255, 255, 255, 0.5); color: white; }
.signup { background-color: var(--primary-color); border-color: var(--primary-color); }
.nav-button:hover, .signup:hover { background-color: white; color: var(--section-bg-dark); border-color: white; }

/* Logged In State Styles */
.hidden { display: none !important; }
#nav-logged-in { align-items: center; gap: 1.5rem; }
.credit-display { display: flex; align-items: center; gap: 0.5rem; background: var(--card-bg-dark); padding: 0.5rem 1rem; border-radius: 50px; }
.credit-display i { color: var(--primary-color); }
.profile-display { display: flex; align-items: center; gap: 1rem; }
#user-email { font-weight: 500; }

/* Main Content Sections */
#main-page-content, #music-browser, #photos-browser { display: none; }
#main-page-content.active, #music-browser.active, #photos-browser.active { display: block; }
.main-section { min-height: 100vh; overflow: hidden; }
.featured-section { padding: 0; display: flex; flex-direction: column; align-items: center; background-color: var(--section-bg-dark); position: relative; }

/* Hero Section */
.hero-sliding { position: relative; background-color: #000; height: 100vh; }
.sliding-columns { display: flex; width: 100%; height: 100%; }
.column { flex: 1; overflow: hidden; position: relative; }
.column img { width: 100%; height: auto; min-height: 50%; object-fit: cover; opacity: 0.3; }
.column:nth-child(1) { animation: slide 30s linear infinite; }
.column:nth-child(2) { animation: slide 40s linear infinite reverse; animation-delay: -7s; }
.column:nth-child(3) { animation: slide 35s linear infinite; animation-delay: -12s; }
@keyframes slide { 0% { transform: translateY(-50%); } 100% { transform: translateY(0%); } }
.hero-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(circle, rgba(0,0,0,0.2) 0%, rgba(0,0,0,0.7) 100%); z-index: 2; display: flex; align-items: center; justify-content: center; text-align: center; }
.hero-content h1 { font-size: 3.5rem; margin-bottom: 1rem; }
.hero-content p { font-size: 1.2rem; margin-bottom: 2rem; }
.search-bar { width: 100%; max-width: 500px; padding: 1rem; border: 1px solid rgba(255,255,255,0.2); border-radius: 25px; font-size: 1rem; background: rgba(255,255,255,0.1); color: white; outline: none; transition: all 0.3s ease; }
.search-bar:focus { border-color: var(--primary-color); box-shadow: 0 0 15px var(--glow-color); }

.section-title-container { height: 25vh; width: 100%; display: flex; justify-content: center; align-items: center; text-align: center; position: relative; z-index: 10; }
.featured-section h2 { font-size: 3.5rem; font-weight: 700; color: white; }

/* Music Card Grid Section */
.featured-music-grid .item-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 2.5rem; width: 100%; max-width: 1200px; padding: 0 5% 5vh; flex-grow: 1; }
.music-card { background: var(--card-bg-dark); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 10px; padding: 1.5rem; transition: transform 0.3s, box-shadow 0.3s; display: flex; flex-direction: column; justify-content: space-between; }
.music-card:hover { transform: translateY(-5px); box-shadow: 0 0 20px var(--glow-color); }
.card-content { display: flex; align-items: center; margin-bottom: 1rem; }
.music-card .play-button { width: 50px; height: 50px; background: var(--primary-color); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; cursor: pointer; margin-right: 1.5rem; transition: background-color 0.3s, box-shadow 0.3s; flex-shrink: 0; }
.music-card.playing .play-button { background-color: #e74c3c; box-shadow: 0 0 15px rgba(231, 76, 60, 0.5); }
.track-info { text-align: left; }
.track-info h3 { margin: 0; font-size: 1.2rem; color: white; }
.track-info p { margin: 0; color: #aaa; }
.music-card .waveform-container { width: 100%; height: 60px; background: var(--waveform-bg); border-radius: 5px; cursor: pointer; margin-bottom: 0.5rem; }
.music-card .waveform { width: 100%; height: 100%; }
.music-card .time-container { display: flex; justify-content: space-between; font-size: 0.8rem; color: #aaa; }

/* Music Browser Section */
.featured-music-browser { padding: var(--header-height) 2.5% 2.5%; align-items: center; background-color: var(--sidebar-bg); }
.music-browser-header { width: 100%; max-width: 1200px; padding: 1.5rem 0; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid rgba(255,255,255,0.1); margin-bottom: 2rem; }
.filter-group { display: flex; gap: 1rem; }
.filter-btn { background: var(--card-bg-dark); border: 1px solid rgba(255,255,255,0.1); color: white; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer; transition: background-color 0.2s; }
.filter-btn:hover { background-color: rgba(255,255,255,0.1); }
.filter-btn i { margin-left: 0.5rem; }
.music-track-list { width: 100%; max-width: 1200px; }
.track-item { display: flex; align-items: center; gap: 1.5rem; padding: 0.8rem 1rem; border-radius: 5px; transition: background-color 0.2s; border-bottom: 1px solid rgba(255,255,255,0.05); }
.track-item:hover { background-color: var(--card-bg-dark); }
.track-item .play-button { width: 40px; height: 40px; background: transparent; border: 1px solid #888; color: #888; border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0; cursor: pointer; transition: all 0.2s; }
.track-item:hover .play-button { color: white; border-color: white; }
.track-item.playing .play-button { background: var(--primary-color); border-color: var(--primary-color); color: white; }
.track-album-art { width: 50px; height: 50px; flex-shrink: 0; }
.track-album-art img { width: 100%; height: 100%; object-fit: cover; border-radius: 5px; }
.track-details { flex-grow: 1; text-align: left; }
.track-details h3 { font-size: 1rem; font-weight: 500; color: white; margin: 0; }
.track-details p { font-size: 0.9rem; color: #aaa; margin: 0; }
.track-tags { display: flex; gap: 0.5rem; width: 15%; }
.track-tags span { background: var(--card-bg-dark); font-size: 0.8rem; padding: 0.2rem 0.5rem; border-radius: 3px; }
.track-duration { width: 5%; color: #aaa; }
.track-item .waveform-container { width: 25%; height: 40px; cursor: pointer; }
.track-item .waveform { width: 100%; height: 100%; }
.track-actions { display: flex; justify-content: flex-end; width: 15%; }
.action-btn { background: none; border: none; color: #aaa; font-size: 1rem; cursor: pointer; padding: 0.5rem; transition: color 0.2s; }
.action-btn:hover { color: white; }

/* Photo Sections */
.featured-photos { justify-content: flex-start; }
.photo-marquee { display: flex; width: 100%; height: 75vh; mask-image: linear-gradient(to bottom, transparent, black 10%, black 90%, transparent); -webkit-mask-image: linear-gradient(to bottom, transparent, black 10%, black 90%, transparent); }
.photo-marquee:hover .photo-column { animation-play-state: paused; }
.photo-column { flex: 1; display: flex; flex-direction: column; }
.photo-column img { width: 100%; height: auto; aspect-ratio: 16 / 9; object-fit: cover; padding: 0.5rem; border-radius: 10px; transition: filter 0.3s; }
.photo-marquee:hover img { filter: brightness(0.7); }
.photo-column img:hover { filter: brightness(1); }
.photo-column:nth-child(1) { animation: marquee-up 50s linear infinite; }
.photo-column:nth-child(2) { animation: marquee-down 50s linear infinite; }
@keyframes marquee-up { 0% { transform: translateY(-50%); } 100% { transform: translateY(0%); } }
@keyframes marquee-down { 0% { transform: translateY(0%); } 100% { transform: translateY(-50%); } }

/* Photo Browser Section */
.featured-photos-browser { padding: var(--header-height) 2.5% 2.5%; background-color: var(--sidebar-bg); }
.photo-browser-header { width: 100%; max-width: 1200px; margin: 0 auto 2rem; display: flex; justify-content: space-between; align-items: center; gap: 1rem; }
.search-container { position: relative; flex-grow: 1; }
.search-container i { position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); color: #888; }
.search-container input { width: 100%; background: var(--card-bg-dark); border: 1px solid rgba(255,255,255,0.1); color: white; padding: 0.8rem 1rem 0.8rem 3rem; border-radius: 5px; font-size: 1rem; }
.search-container input:focus { outline: none; border-color: var(--primary-color); }
.masonry-grid { column-count: 4; column-gap: 1rem; width: 100%; max-width: 1200px; margin: 0 auto; }
.grid-item { margin-bottom: 1rem; break-inside: avoid; position: relative; overflow: hidden; border-radius: 10px; }
.grid-item img { width: 100%; height: auto; display: block; }
.image-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; gap: 1rem; opacity: 0; transition: opacity 0.3s; }
.grid-item:hover .image-overlay { opacity: 1; }
.image-overlay .action-btn i { font-size: 1.2rem; }

/* Footer */
footer { background: #111; color: #888; text-align: center; padding: 2rem 0; border-top: 1px solid rgba(255,255,255,0.1); }

/* Signup Modal */
.modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.7); backdrop-filter: blur(5px); display: none; align-items: center; justify-content: center; z-index: 2000; }
.modal-overlay.active { display: flex; }
.modal-content { background: var(--section-bg-dark); padding: 2.5rem; border-radius: 15px; width: 100%; max-width: 450px; border: 1px solid rgba(255, 255, 255, 0.1); box-shadow: 0 10px 30px rgba(0,0,0,0.5); position: relative; text-align: center; }
.close-modal-btn { position: absolute; top: 1rem; right: 1rem; background: none; border: none; color: #888; font-size: 1.5rem; cursor: pointer; transition: color 0.2s; }
.close-modal-btn:hover { color: white; }
.modal-content h2 { font-size: 2rem; margin-bottom: 2rem; }
.social-login-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 2rem; }
.social-btn { width: 100%; padding: 0.8rem; border-radius: 5px; border: 1px solid transparent; color: white; font-size: 1rem; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: opacity 0.2s; gap: 0.8rem; }
.social-btn:hover { opacity: 0.9; }
.social-btn svg { height: 20px; width: 20px; }
.social-btn.facebook { background-color: #1877F2; }
.social-btn.google { background-color: #ffffff; color: #333; }
.social-btn.naver { background-color: #03C75A; }
.social-btn.naver .naver-icon path:nth-child(3) { fill: #03C75A; }
.social-btn.naver .naver-icon path:not(:nth-child(3)) { fill: #FFFFFF; }
.social-btn.kakao { background-color: #FEE500; color: #191919; }
.social-btn.kakao .kakao-icon path { fill: #191919; }
form .input-group { margin-bottom: 1.5rem; text-align: left; }
form label { display: block; margin-bottom: 0.5rem; font-weight: 500; }
form input { width: 100%; padding: 0.8rem 1rem; background: rgba(255, 255, 255, 0.1); border: 1px solid transparent; border-radius: 5px; color: white; font-size: 1rem; transition: border-color 0.2s; }
form input:focus { outline: none; border-color: var(--primary-color); }
.modal-cta-button { width: 100%; background-color: var(--primary-color); color: white; border: none; padding: 0.9rem; font-size: 1.1rem; font-weight: 700; border-radius: 5px; cursor: pointer; transition: transform 0.2s; }
.modal-cta-button:hover { transform: scale(1.02); }
.modal-footer-text { font-size: 0.9rem; color: #aaa; margin-top: 1.5rem; }
.modal-footer-text a { color: var(--primary-color); text-decoration: none; }
.modal-footer-text a:hover { text-decoration: underline; }

/* Responsive */
@media (max-width: 1200px) { .track-tags, .track-duration { display: none; } .track-item .waveform-container { width: 30%; } .track-actions { width: 20%; } .masonry-grid { column-count: 3; } }
@media (max-width: 1024px) { :root { --sidebar-width: 200px; } .page-content { width: calc(100% - 200px); margin-left: 200px; } header { width: calc(100% - 200px); } .nav-center { display: none; } .featured-music-grid .item-grid { grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 768px) { .sidebar { display: none; } .page-content { width: 100%; margin-left: 0; } header { width: 100%; } header nav { justify-content: center; } .nav-right { display: none; } .hero-content h1 { font-size: 2.5rem; } .featured-music-grid .item-grid { grid-template-columns: 1fr; } .featured-music-browser { padding-top: var(--header-height); } .music-browser-header { flex-direction: column; gap: 1rem; } .track-item { flex-wrap: wrap; } .track-details { order: 1; width: calc(100% - 50px - 1.5rem); } .track-item .waveform-container { order: 2; width: 100%; margin-top: 1rem; } .track-actions { order: 3; width: 100%; justify-content: space-around; margin-top: 1rem; } .photo-marquee { flex-direction: column; height: auto; } .masonry-grid { column-count: 2; } }
